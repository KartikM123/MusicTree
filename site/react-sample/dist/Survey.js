!function(e){function t(t){for(var o,a,s=t[0],l=t[1],c=t[2],m=0,f=[];m<s.length;m++)a=s[m],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);f.length;)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={2:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([9,0]),n()}({1:function(e){e.exports=JSON.parse('{"Mind":{"Positive":"Conscious","Negative":"Jovial","Questions":[["I prefer to listen to music for the lyrics",0],["I usually enjoy listening to music that I don’t have to think about ",1],["Music that has meaning is extremely important to me ",0],["When I listen to music, I often tune out the lyrics and only hear the instrumental",1]]},"Energy":{"Positive":"Energetic","Negative":"Relaxed","Questions":[["I only listen to music to pump me up",0],["I only listen to that I can relax to ",1],["If I could only listen to upbeat music or relaxing music for the rest of my life, I would choose upbeat music ",0],["I fall asleep to music often",1]]},"Romance":{"Positive":"Romantic","Negative":"Heartbreak","Questions":[["I listen to love songs more than heartbreak songs",0],["A song about a break-up speaks more to me than a song about two lovers ",1],["Love songs make me happy",0],["I listen to music when I’m sad more than I listen to music when I’m happy",1]]},"Knowledge":{"Positive":"Passionate","Negative":"Passive","Questions":[["I care about the music I listen to more than most",0],["I don’t like to be the one to choose what music to listen to ",1],["I often share my playlists or songs I’m listening with others",0],["I always look to others for what music to listen to",1]]}}')},3:function(e){e.exports=JSON.parse('{"808s & Heartbreak - Kanye West":{"traits":"Jovial, Relaxed, Heartbreak, Passive"},"thank u, next - Ariana Grande":{"traits":"Jovial, Energetic, Heartbreak, Passive"},"ANTI - Rihanna":{"traits":"Jovial, Energetic, Romantic, Passive"},"Stoney -  Post Malone":{"traits":"Jovial, Relaxed, Romantic, Passive"},"For Emma, Forever Ago - Bon Iver":{"traits":"Conscious, Relaxed, Heartbreak, Passive"},"To Pimp a Butterfly - Kendrick Lamar":{"traits":"Conscious, Energetic, Heartbreak, Passive"},"Ctrl - SZA":{"traits":"Conscious, Relaxed, Romantic, Passive"},"Me Against the World - 2Pac":{"traits":"Conscious, Energetic, Romantic, Passive"},"Immunity - Clairo":{"traits":"Jovial, Relaxed, Heartbreak, Passionate"},"Tha Carter II - Lil Wayne":{"traits":"Jovial, Energetic, Romantic, Passionate"},"The Diary of Alicia Keys -  Alicia Keys":{"traits":"Jovial, Relaxed, Romantic, Passionate"},"1999 - Joey Badass":{"traits":"Conscious, Relaxed, Heartbreak, Passionate"},"Black on Both Sides - Mos Def":{"traits":"Conscious, Energetic, Heartbreak, Passionate"},"Ugh, those feels again - Snoh Aalegra":{"traits":"Conscious, Relaxed, Romantic, Passionate"},"Wolf - Tyler, The Creator":{"traits":"Conscious, Energetic, Romantic, Passionate"}}')},9:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(2),a=n.n(r),s=n(1),l=n(3);function c(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,i)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.a.render(i.a.createElement(E,null),document.getElementById("survey"));var k=function(e){p(n,e);var t=v(n);function n(e){var o;return m(this,n),(o=t.call(this,e)).state={color:o.props.color},o.updateColor=o.updateColor.bind(y(o)),o}return d(n,[{key:"updateColor",value:function(){}},{key:"render",value:function(){return i.a.createElement("li",null,i.a.createElement("div",{onClick:this.updateColor,style:{backgroundColor:this.props.color}},this.props.val))}}]),n}(i.a.Component),E=function(e){p(r,e);var t,n,o=v(r);function r(e){var t;return m(this,r),(t=o.call(this,e)).state={Questions:{},Ratings:{},error:"",questionType:"",currentQuestion:"",clicked:-1,allTypes:[],typeCount:0,questionCount:0,initCondition:!1,imgUrl:"None!"},t.clickItem=t.clickItem.bind(y(t)),t.clickNext=t.clickNext.bind(y(t)),t}return d(r,[{key:"readFile",value:function(){console.log(s);var e=[];for(var t in s)e.push(t),console.log(s[t]);console.log(e)}},{key:"componentDidMount",value:function(){console.log(s);var e=[],t={},n={};for(var o in s)e.push(o),t[o]=s[o].Questions,n[o]=0;console.log(e),console.log(t),this.setState((function(o){o.Questions=t,o.currentQuestion=t[e[0]][0],o.questionType=e[0],o.allTypes=e,o.Ratings=n})),this.forceUpdate()}},{key:"clickItem",value:function(e){this.setState((function(t){t.clicked=e,t.error=""})),this.forceUpdate()}},{key:"finishedQuestions",value:function(){this.printRatings(),this.setState((function(e){e.error="No more questions!",e.initCondition=!0}));var e=document.createElement("div"),t=this.getRatingMoods(),n=document.createElement("div");for(var o in t){var r=t[o];console.log(t[o]);var s=document.createElement("p");n.appendChild(s.appendChild(document.createTextNode(r)))}var l=this.getAlbum(t);console.log("Album is "+l),document.createElement("div").appendChild(document.createTextNode(l));var c=document.createElement("img");this.state.imgUrl.includes("None!")&&this.getAlbumImg(l),console.log("img src is "+this.state.imgUrl),c.src=this.state.imgUrl,console.log(e),a.a.render(i.a.createElement("img",{src:this.state.imgUrl}),document.getElementById("albumArt")),a.a.render(i.a.createElement("div",null,l),document.getElementById("albumName"))}},{key:"printRatings",value:function(){for(var e in console.log("PRINT RATINGS"),this.state.Ratings)console.log(e+": "+this.state.Ratings[e])}},{key:"clickNext",value:function(){if(-1==this.state.clicked)this.setState((function(e){e.error="Please pick a value!"}));else{var e=this.state.questionCount,t=this.state.questionType,n=this.state.typeCount,o="",i=this.state.Ratings;if(i[t]=(i[t]*e+this.state.clicked)/(e+1),e<this.state.Questions[this.state.questionType].length-1)console.log("No Skipping!"),e+=1,o=this.state.Questions[this.state.questionType][e];else{if(e=0,!((n+=1)<this.state.allTypes.length))return this.setState((function(e){e.Ratings=i})),void this.finishedQuestions();t=this.state.allTypes[n],o=this.state.Questions[t][e]}this.setState((function(r){r.Questions=r.Questions,r.Ratings=i,r.error="",r.questionType=t,r.currentQuestion=o,r.clicked=-1,r.typeCount=n,r.questionCount=e})),this.printRatings()}this.forceUpdate()}},{key:"getRatingMoods",value:function(){var e={};for(var t in this.state.Ratings)this.state.Ratings[t]>3?e[t]=s[t].Positive:e[t]=s[t].Negative;return e}},{key:"getAlbum",value:function(e){for(var t in l){var n=l[t].traits,o=!0;for(var i in e){var r=e[i];n.includes(r)||(o=!1)}if(o)return t}return"No album"}},{key:"getAlbumImg",value:(t=regeneratorRuntime.mark((function e(t){var n,o,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="",o="http://localhost:9000/testAPI/?albumName="+t.replace(/ /g,""),console.log("Start here"),fetch(o).then((function(e){return e.text()})).then((function(e){n=e,console.log("ASYNC RETURN"+n),r.setState((function(e){e.imgUrl=n}));var t=document.createElement("div");n=e,console.log("ASYNC RETURN"+n),r.setState((function(e){e.imgUrl=n}));var o=r.getRatingMoods(),s=document.createElement("div");for(var l in o){var c=o[l];console.log(o[l]);var u=document.createElement("p");s.appendChild(u.appendChild(document.createTextNode(c)))}var m=r.getAlbum(o);console.log("Album is "+m),document.createElement("div").appendChild(document.createTextNode(m));var f=document.createElement("img");r.state.imgUrl.includes("None!")&&r.getAlbumImg(m),console.log("img src is "+n),f.src=n,console.log(t),a.a.render(i.a.createElement("img",{src:n}),document.getElementById("albumArt")),a.a.render(i.a.createElement("div",null,m),document.getElementById("albumName"))}));case 4:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(e){c(r,o,i,a,s,"next",e)}function s(e){c(r,o,i,a,s,"throw",e)}a(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this;document.createElement("div");return this.state.initCondition,i.a.createElement("div",null,i.a.createElement("h1",null,this.state.questionType),i.a.createElement("p",null," ",this.state.currentQuestion),i.a.createElement("ul",null,[1,2,3,4,5].map((function(t,n){return i.a.createElement("div",{onClick:function(){e.clickItem(t)}},i.a.createElement(k,{key:n,color:e.state.clicked==t?"blue":"red",val:t}))}))),i.a.createElement("button",{onClick:this.clickNext}," Next "),i.a.createElement("p",null,this.state.error),i.a.createElement("div",{id:"albumInfo"}),i.a.createElement("div",{id:"allMoods"}),i.a.createElement("div",{id:"albumName"}," "),i.a.createElement("div",{id:"albumArt"}))}}]),r}(i.a.Component);t.default=E}});